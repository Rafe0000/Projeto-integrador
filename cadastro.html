<!DOCTYPE html>
<html> 
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="CSS/cadastro.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@500;600&display=swap" rel="stylesheet">
    <title>cadastre-se!</title>
</head>

<body>
 
    <div id="cadastro">
        <a href="index.html" id="inicio">Inicio</a><br>
        <img src="img/Logo(CRA).png" id="logo" alt="Logo">
        
        <h1>Faça seu cadastro aqui!</h1>
        <form class="">
            <input class="cod" type="text" id="email" placeholder="E-mail"><br>
            <input class="cod" type="text" id="cpf" placeholder=" CPF"><br>
            <input class="cod" type="text" id="telefone" placeholder="Telefone para contato"><br>
            <input class="cod" type="text" id="login" placeholder="Login"><br>
            <input class="cod" type="password" id="senha" placeholder="Senha"><br>
            <input type="checkbox" id="termos"><span>Aceito os termos de responsabilidade</span><br>
            <button id="att" type="button" onclick="local()">Atualizar dados</button>
            <button id="criar" type="button" onclick="adicionar()">Criar um Cadastro</button>
        </form>
    </div>
    
    <div id="termosModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p>Podemos utilizar as fotos e informações postadas para futuras propagandas na TV para aumentar nosso alcance.</p>
        </div>
    </div>

    <script>
        document.getElementById("termos").addEventListener("change", function() {
            if (this.checked) {
                document.getElementById("termosModal").style.display = "block";
            }
        });

        function closeModal() {
            document.getElementById("termosModal").style.display = "none";
        }

        function adicionar() {
            if (!document.getElementById("termos").checked) {
                alert("Você deve aceitar os termos de responsabilidade para criar um cadastro.");
                return;
            }

            var ClienteArray = JSON.parse(localStorage.getItem("tds")) || [];
            let login = document.querySelector("#login").value;
            let senha = document.querySelector("#senha").value;
            let user = { id: Date.now(), nome: login, senha: senha };
            ClienteArray.push(user);
            localStorage.setItem("tds", JSON.stringify(ClienteArray));
            alert("Registro adicionado.");
            let url = "login.html";
            window.open(url);
            window.close();
        }
    </script>
</body>
</html>